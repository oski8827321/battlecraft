<!doctype html>
<html lang="cs" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Battlecraft – Minecraft Battlefield Server</title>
  <meta name="description" content="Minecraft server ve stylu Battlefield: Conquest, TDM, Domination, Operations. Cinematic design, parallax, částice, interaktivní mapa a komunita." />
  <meta property="og:title" content="Battlecraft – Minecraft Battlefield Server" />
  <meta property="og:description" content="Cinematic Battlefield styl pro Minecraft. Připoj se do bitvy!" />
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#0a0f14" />

  <!-- TailwindCSS (Play CDN) – vhodné i pro GitHub Pages bez build procesu -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>tailwind.config = { theme: { extend: { fontFamily: { display: ['Oswald', 'ui-sans-serif', 'system-ui'], body: ['Inter', 'ui-sans-serif', 'system-ui'] } } } };</script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&family=Oswald:wght@600;700&display=swap" rel="stylesheet">

  <style>
    /* Cinematic noise (jemný film grain) */
    .noise-overlay { pointer-events:none; position:fixed; inset:0; z-index:5; opacity:.08; mix-blend:soft-light; background-image:radial-gradient(circle, rgba(255,255,255,.15) 1px, transparent 1px); background-size:3px 3px; }

    /* Glitch/scanline title */
    .glitch {
      position: relative; user-select: none; text-shadow: 0 0 0 transparent;
    }
    .glitch:before, .glitch:after {
      content: attr(data-text); position: absolute; inset:0; pointer-events:none; opacity:.6; filter: blur(1px);
    }
    .glitch:before { color: #22d3ee; transform: translate(1px, -1px); mix-blend-mode: screen; }
    .glitch:after { color: #fb923c; transform: translate(-1px, 1px); mix-blend-mode: screen; }
    .glitch .scanline { position:absolute; left:0; right:0; top:50%; height:1px; transform:translateY(-50%); background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent); opacity:.25; }

    /* Scroll reveal */
    [data-reveal] { opacity:0; transform: translateY(16px); transition: opacity .6s ease, transform .6s ease; }
    .reveal-in { opacity:1 !important; transform: none !important; }

    /* Reduced motion respect */
    @media (prefers-reduced-motion: reduce) {
      .parallax, [data-reveal] { transition: none !important; }
    }
  </style>
</head>
<body class="antialiased bg-[#0a0f14] text-white selection:bg-cyan-500/30 selection:text-white">
  <!-- Particles background -->
  <canvas id="particles" class="pointer-events-none fixed inset-0 z-0" style="filter:contrast(105%) saturate(105%)"></canvas>
  <div class="noise-overlay" aria-hidden="true"></div>
  <!-- Top gradient glow -->
  <div class="pointer-events-none fixed -top-24 left-1/2 z-[1] h-64 w-[110vw] -translate-x-1/2 rounded-full bg-gradient-to-r from-cyan-500/20 via-blue-500/10 to-orange-500/20 blur-3xl"></div>

  <!-- NAVBAR -->
  <header class="sticky top-0 z-50">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="mt-4 rounded-2xl border border-white/10 bg-black/30 backdrop-blur supports-[backdrop-filter]:bg-black/20">
        <nav class="flex items-center justify-between px-4 py-3">
          <a href="#home" class="flex items-center gap-3">
            <span class="h-8 w-8 rounded-lg bg-gradient-to-br from-orange-400 to-amber-600 shadow-[0_0_25px] shadow-orange-500/30"></span>
            <span class="font-extrabold tracking-wide">BATTLECRAFT</span>
          </a>
          <ul class="hidden items-center gap-6 md:flex text-sm">
            <li><a class="text-white/80 hover:text-white" href="#home">Domů</a></li>
            <li><a class="text-white/80 hover:text-white" href="#about">Projekt</a></li>
            <li><a class="text-white/80 hover:text-white" href="#modes">Režimy</a></li>
            <li><a class="text-white/80 hover:text-white" href="#trailer">Trailer</a></li>
            <li><a class="text-white/80 hover:text-white" href="#map">Mapa</a></li>
            <li><a class="text-white/80 hover:text-white" href="#community">Komunita</a></li>
          </ul>
          <div class="flex items-center gap-2">
            <a href="#community" class="relative inline-flex items-center gap-2 rounded-2xl px-6 py-3 font-semibold tracking-wide bg-gradient-to-r from-orange-500 to-amber-500 text-black shadow-[0_0_30px] shadow-orange-500/30 hover:scale-[1.03] transition">Discord</a>
            <a href="#join" class="relative inline-flex items-center gap-2 rounded-2xl px-6 py-3 font-semibold tracking-wide bg-white/10 text-white ring-1 ring-white/20 backdrop-blur hover:scale-[1.03] transition">Připojit se</a>
          </div>
        </nav>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section id="home" class="relative z-[2]">
    <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-28">
      <div class="relative" id="hero-opacity">
        <h1 class="glitch mb-6 text-5xl sm:text-6xl md:text-7xl font-black leading-[0.95] font-display" data-text="MINECRAFT ">
          MINECRAFT <br class="hidden sm:block"/> BATTLEFIELD SERVER
          <span class="scanline" aria-hidden="true"></span>
        </h1>
        <p class="max-w-2xl text-lg text-white/80 font-body">
          Vstup do světa, kde se pixelová kreativa potkává s taktickou válkou. Epické operace, realistické mapy, frakce a vyvážený arzenál – to je <span class="text-orange-400 font-semibold">Battlecraft</span>.
        </p>
        <div class="mt-8 flex flex-wrap items-center gap-3">
          <a href="#join" class="relative inline-flex items-center gap-2 rounded-2xl px-6 py-3 font-semibold tracking-wide bg-gradient-to-r from-orange-500 to-amber-500 text-black shadow-[0_0_30px] shadow-orange-500/30 hover:scale-[1.03] transition">Připojit se na server</a>
          <a href="#trailer" class="group inline-flex items-center gap-2 rounded-2xl border border-white/10 px-6 py-3 text-white/80 transition hover:border-white/30 hover:text-white">▶ Spustit trailer</a>
        </div>
      </div>

      <!-- Hero decorative layers (parallax) -->
      <div class="pointer-events-none absolute inset-0 -z-10">
        <div class="parallax absolute -top-24 right-10 h-56 w-56 rounded-full bg-cyan-400/20 blur-[70px]" data-strength="-10"></div>
        <div class="parallax absolute bottom-0 left-0 h-72 w-72 rounded-full bg-orange-400/20 blur-[80px]" data-strength="-12"></div>
      </div>
    </div>
  </section>

  <!-- ABOUT -->
  <section id="about" class="relative scroll-mt-24" data-reveal>
    <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
      <div class="mb-10">
        <p class="mb-2 text-sm uppercase tracking-[0.3em] text-cyan-300/80">O projektu</p>
        <h2 class="glitch text-3xl sm:text-4xl md:text-5xl font-extrabold" data-text="Battlecraft: Minecraft jako nikdy předtím">
          Battlecraft: Minecraft jako nikdy předtím
          <span class="scanline" aria-hidden="true"></span>
        </h2>
      </div>
      <div class="grid gap-8 md:grid-cols-2">
        <div class="rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur" data-reveal>
          <h3 class="mb-3 text-xl font-bold">Vojenská prezentace, Minecraft srdce</h3>
          <p class="text-white/80">Server kombinuje cinematic atmosféru a taktickou hratelnost se známým Minecraft sandboxem. Čeká tě propracovaná ekonomika, třídy, vozidla a mapy stavěné na míru.</p>
          <ul class="mt-4 grid gap-2 text-white/80 md:grid-cols-2">
            <li>✔ Frakce a role</li>
            <li>✔ Realistické mapy & frontové linie</li>
            <li>✔ Funkční vozidla a podpora</li>
            <li>✔ Anti‑cheat & férová metagame</li>
          </ul>
        </div>
        <div class="rounded-2xl border border-white/10 bg-gradient-to-br from-black/20 to-white/5 p-6 backdrop-blur" data-reveal>
          <h3 class="mb-3 text-xl font-bold">Proč Battlecraft?</h3>
          <p class="text-white/80">Nejsme další obyčejný PvP server. Chceme vyprávět příběh každé bitvy – od průzkumu přes logistiku až po závěrečný push. Tvůj tým znamená vše.</p>
          <div class="mt-4 grid grid-cols-3 gap-3 text-center text-xs text-white/70">
            <div class="rounded-xl border border-white/10 p-3">
              <div class="text-2xl font-extrabold text-white">0+</div>
              <div>Současných hráčů</div>
            </div>
            <div class="rounded-xl border border-white/10 p-3">
              <div class="text-2xl font-extrabold text-white">4</div>
              <div>Mapy na rotaci</div>
            </div>
            <div class="rounded-xl border border-white/10 p-3">
              <div class="text-2xl font-extrabold text-white">24/7</div>
              <div>Up‑time</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- MODES -->
  <section id="modes" class="relative scroll-mt-24 py-16">
    <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
      <div class="mb-10" data-reveal>
        <p class="mb-2 text-sm uppercase tracking-[0.3em] text-cyan-300/80">Herní režimy</p>
        <h2 class="glitch text-3xl sm:text-4xl md:text-5xl font-extrabold" data-text="Vyber si bojiště">Vyber si bojiště<span class="scanline" aria-hidden="true"></span></h2>
      </div>
      <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-4">
        <!-- Card template -->
        <div class="group relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 p-5 backdrop-blur" data-reveal>
          <div class="absolute -right-10 -top-10 h-28 w-28 rounded-full bg-orange-500/20 blur-2xl transition-transform group-hover:translate-x-4"></div>
          <div class="mb-1 inline-flex rounded-full bg-white/10 px-2 py-1 text-[10px] uppercase tracking-wider text-white/70">Velké bitvy</div>
          <h4 class="mb-2 text-xl font-extrabold tracking-wide">CONQUEST</h4>
          <p class="text-white/80">Masivní bitvy o klíčové body, logistika, podpora a koordinace týmů.</p>
          <div class="mt-4 h-px bg-gradient-to-r from-transparent via-white/30 to-transparent"></div>
          <button class="mt-4 inline-flex items-center text-sm text-cyan-300/90 transition hover:text-cyan-200">Zobrazit detaily →</button>
        </div>
        <div class="group relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 p-5 backdrop-blur" data-reveal>
          <div class="absolute -right-10 -top-10 h-28 w-28 rounded-full bg-orange-500/20 blur-2xl transition-transform group-hover:translate-x-4"></div>
          <div class="mb-1 inline-flex rounded-full bg-white/10 px-2 py-1 text-[10px] uppercase tracking-wider text-white/70">Rychlá akce</div>
          <h4 class="mb-2 text-xl font-extrabold tracking-wide">TEAM DEATHMATCH</h4>
          <p class="text-white/80">Rychlé střety na kompaktních mapách. Perfektní na rozcvičku i tryhard.</p>
          <div class="mt-4 h-px bg-gradient-to-r from-transparent via-white/30 to-transparent"></div>
          <button class="mt-4 inline-flex items-center text-sm text-cyan-300/90 transition hover:text-cyan-200">Zobrazit detaily →</button>
        </div>
        <div class="group relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 p-5 backdrop-blur" data-reveal>
          <div class="absolute -right-10 -top-10 h-28 w-28 rounded-full bg-orange-500/20 blur-2xl transition-transform group-hover:translate-x-4"></div>
          <div class="mb-1 inline-flex rounded-full bg-white/10 px-2 py-1 text-[10px] uppercase tracking-wider text-white/70">Zónová kontrola</div>
          <h4 class="mb-2 text-xl font-extrabold tracking-wide">DOMINATION</h4>
          <p class="text-white/80">Intenzivní držení zón s důrazem na mobilitu a taktiku.</p>
          <div class="mt-4 h-px bg-gradient-to-r from-transparent via-white/30 to-transparent"></div>
          <button class="mt-4 inline-flex items-center text-sm text-cyan-300/90 transition hover:text-cyan-200">Zobrazit detaily →</button>
        </div>
        <div class="group relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 p-5 backdrop-blur" data-reveal>
          <div class="absolute -right-10 -top-10 h-28 w-28 rounded-full bg-orange-500/20 blur-2xl transition-transform group-hover:translate-x-4"></div>
          <div class="mb-1 inline-flex rounded-full bg-white/10 px-2 py-1 text-[10px] uppercase tracking-wider text-white/70">Progresivní mise</div>
          <h4 class="mb-2 text-xl font-extrabold tracking-wide">OPERATIONS</h4>
          <p class="text-white/80">Vícefázové mise s příběhovým rámcem a postupem fronty.</p>
          <div class="mt-4 h-px bg-gradient-to-r from-transparent via-white/30 to-transparent"></div>
          <button class="mt-4 inline-flex items-center text-sm text-cyan-300/90 transition hover:text-cyan-200">Zobrazit detaily →</button>
        </div>
      </div>
    </div>
  </section>

  <!-- TRAILER -->
  <section id="trailer" class="relative scroll-mt-24" data-reveal>
    <div class="mx-auto max-w-5xl px-4 sm:px-6 lg:px-8">
      <div class="relative overflow-hidden rounded-2xl border border-white/10 bg-black/50 shadow-2xl">
        <div class="absolute inset-0 bg-gradient-to-tr from-cyan-500/10 via-transparent to-orange-500/10"></div>
        <div class="aspect-video w-full">
          <iframe class="h-full w-full" src="https://www.youtube.com/embed/dQw4w9WgXcQ?rel=0&modestbranding=1" title="Battlecraft Trailer" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
      </div>
    </div>
  </section>

  <!-- MAP -->
  <section id="map" class="relative scroll-mt-24" data-reveal>
    <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
      <div class="mb-10">
        <p class="mb-2 text-sm uppercase tracking-[0.3em] text-cyan-300/80">Battle mapa</p>
        <h2 class="glitch text-3xl sm:text-4xl md:text-5xl font-extrabold" data-text="Frontová linie a lokace">Frontová linie a lokace<span class="scanline" aria-hidden="true"></span></h2>
      </div>
      <div class="relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur">
        <div class="grid gap-6 md:grid-cols-5">
          <div class="md:col-span-3">
            <div class="relative aspect-[16/10] w-full overflow-hidden rounded-xl border border-white/10 bg-gradient-to-br from-slate-900 to-slate-800">
              <svg viewBox="0 0 800 500" class="h-full w-full">
                <defs>
                  <linearGradient id="gradA" x1="0" x2="1" y1="0" y2="1">
                    <stop offset="0%" stop-color="#22d3ee" stop-opacity="0.25" />
                    <stop offset="100%" stop-color="#f97316" stop-opacity="0.25" />
                  </linearGradient>
                </defs>
                <rect width="800" height="500" fill="url(#gradA)" />
                <path d="M50,260 C200,180 400,320 550,240 650,190 720,240 760,260" stroke="rgba(255,255,255,0.4)" stroke-width="2" fill="none"/>
                <g class="group" tabindex="0">
                  <circle cx="120" cy="300" r="10" fill="#f97316" opacity="0.9">
                    <title>Alfa – Doly</title>
                  </circle>
                  <text x="134" y="304" fill="white" opacity="0.85" font-size="14">Alfa – Doly</text>
                </g>
                <g class="group" tabindex="0">
                  <circle cx="300" cy="220" r="10" fill="#f97316" opacity="0.9">
                    <title>Bravo – Most</title>
                  </circle>
                  <text x="314" y="224" fill="white" opacity="0.85" font-size="14">Bravo – Most</text>
                </g>
                <g class="group" tabindex="0">
                  <circle cx="480" cy="280" r="10" fill="#f97316" opacity="0.9">
                    <title>Charlie – Letiště</title>
                  </circle>
                  <text x="494" y="284" fill="white" opacity="0.85" font-size="14">Charlie – Letiště</text>
                </g>
                <g class="group" tabindex="0">
                  <circle cx="650" cy="230" r="10" fill="#f97316" opacity="0.9">
                    <title>Delta – Město</title>
                  </circle>
                  <text x="664" y="234" fill="white" opacity="0.85" font-size="14">Delta – Město</text>
                </g>
              </svg>
            </div>
          </div>
          <div class="md:col-span-2">
            <ul class="grid gap-3">
              <li class="rounded-xl border border-white/10 bg-black/30 p-4"><div class="text-sm uppercase tracking-wide text-cyan-300/90">Alfa – Doly</div><div class="text-white/80">Těžební komplex s tunely a výškami pro ambushy.</div></li>
              <li class="rounded-xl border border-white/10 bg-black/30 p-4"><div class="text-sm uppercase tracking-wide text-cyan-300/90">Bravo – Most</div><div class="text-white/80">Klíčové chokepointy, ideální pro inženýry a support.</div></li>
              <li class="rounded-xl border border-white/10 bg-black/30 p-4"><div class="text-sm uppercase tracking-wide text-cyan-300/90">Charlie – Letiště</div><div class="text-white/80">Otevřené plochy, důraz na vozidla a AA obranu.</div></li>
              <li class="rounded-xl border border-white/10 bg-black/30 p-4"><div class="text-sm uppercase tracking-wide text-cyan-300/90">Delta – Město</div><div class="text-white/80">Městský boj, krátké vzdálenosti, vertikalita.</div></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- COMMUNITY -->
  <section id="community" class="relative scroll-mt-24" data-reveal>
    <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
      <div class="mb-10">
        <p class="mb-2 text-sm uppercase tracking-[0.3em] text-cyan-300/80">Komunita</p>
        <h2 class="glitch text-3xl sm:text-4xl md:text-5xl font-extrabold" data-text="Přidej se k jednotce">Přidej se k jednotce<span class="scanline" aria-hidden="true"></span></h2>
      </div>
      <div class="grid gap-6 md:grid-cols-2">
        <div class="rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur" data-reveal>
          <h4 class="text-xl font-bold">Discord</h4>
          <p class="mt-1 text-white/80">Koordinuj taktiky, hlášení a nábor. Získej přístup k eventům a testům.</p>
          <div class="mt-4 flex flex-wrap gap-3">
            <a href="#" class="relative inline-flex items-center gap-2 rounded-2xl px-6 py-3 font-semibold tracking-wide bg-gradient-to-r from-orange-500 to-amber-500 text-black shadow-[0_0_30px] shadow-orange-500/30 hover:scale-[1.03] transition">Otevřít Discord</a>
            <a href="#" class="relative inline-flex items-center gap-2 rounded-2xl px-6 py-3 font-semibold tracking-wide bg-white/10 text-white ring-1 ring-white/20 backdrop-blur hover:scale-[1.03] transition">Pravidla komunity</a>
          </div>
        </div>
        <div class="rounded-2xl border border-white/10 bg-gradient-to-br from-black/20 to-white/5 p-6 backdrop-blur" data-reveal>
          <h4 class="text-xl font-bold">Připojení na server</h4>
          <div class="mt-3 grid gap-3 sm:grid-cols-2">
            <div class="rounded-xl border border-white/10 bg-black/30 p-3">
              <div class="text-xs uppercase tracking-wider text-white/60">IP adresa</div>
              <div class="text-lg font-mono">play.battlecraftmc.com</div>
            </div>
            <div class="rounded-xl border border-white/10 bg-black/30 p-3">
              <div class="text-xs uppercase tracking-wider text-white/60">Verze</div>
              <div class="text-lg font-mono">1.20+</div>
            </div>
          </div>
          <div class="mt-3 text-sm text-white/70">Whitelist: OFF · Anti‑cheat: ON · Region: EU</div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA JOIN -->
  <section id="join" class="py-16" data-reveal>
    <div class="mx-auto max-w-5xl px-4 sm:px-6 lg:px-8">
      <div class="relative overflow-hidden rounded-2xl border border-white/10 bg-gradient-to-r from-cyan-600/20 via-blue-600/10 to-orange-600/20 p-8 text-center backdrop-blur">
        <h2 class="glitch text-3xl sm:text-4xl font-black" data-text="Připraven do bitvy?">Připraven do bitvy?<span class="scanline" aria-hidden="true"></span></h2>
        <p class="mt-3 text-white/80">Přidej se dnes a vybuduj si pověst legendy fronty.</p>
        <div class="mt-6 flex justify-center gap-3">
          <a href="#" class="relative inline-flex items-center gap-2 rounded-2xl px-6 py-3 font-semibold tracking-wide bg-gradient-to-r from-orange-500 to-amber-500 text-black shadow-[0_0_30px] shadow-orange-500/30 hover:scale-[1.03] transition">Připojit se na server</a>
          <a href="#community" class="relative inline-flex items-center gap-2 rounded-2xl px-6 py-3 font-semibold tracking-wide bg-white/10 text-white ring-1 ring-white/20 backdrop-blur hover:scale-[1.03] transition">Komunita</a>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="relative z-[2] mt-20 border-t border-white/10 py-10">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col items-center justify-between gap-6 md:flex-row">
        <div class="flex items-center gap-3">
          <span class="h-8 w-8 rounded-lg bg-gradient-to-br from-cyan-400 to-blue-600"></span>
          <span class="text-sm text-white/70">© <span id="year"></span> Battlecraft. Všechna práva vyhrazena.</span>
        </div>
        <div class="flex items-center gap-5 text-sm text-white/70">
          <a href="#" class="transition hover:text-white">Pravidla</a>
          <a href="#" class="transition hover:text-white">Ochrana soukromí</a>
          <a href="#" class="transition hover:text-white">Kontakt</a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Custom cursor
    document.documentElement.style.cursor = 'crosshair';

    // Dynamic year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Parallax layers (mousemove)
    const parallaxEls = document.querySelectorAll('.parallax');
    window.addEventListener('mousemove', (e) => {
      const w = window.innerWidth, h = window.innerHeight;
      const mx = (e.clientX / w) - 0.5; const my = (e.clientY / h) - 0.5;
      parallaxEls.forEach(el => {
        const s = parseFloat(el.getAttribute('data-strength') || '20');
        el.style.transform = `translate3d(${mx * s}px, ${my * s}px, 0)`;
      });
    }, { passive: true });

    // Scroll reveal using IntersectionObserver
    const io = new IntersectionObserver((entries) => {
      for (const e of entries) if (e.isIntersecting) e.target.classList.add('reveal-in');
    }, { threshold: 0.25 });
    document.querySelectorAll('[data-reveal]').forEach(el => io.observe(el));

    // Hero opacity on scroll
    const hero = document.getElementById('hero-opacity');
    window.addEventListener('scroll', () => {
      const max = 0.4 * window.innerHeight;
      const val = Math.max(0, 1 - window.scrollY / max);
      hero.style.opacity = val.toFixed(2);
    }, { passive: true });

    // Particles (jiskry/prach) – performantní canvas
    (function() {
      const canvas = document.getElementById('particles');
      const ctx = canvas.getContext('2d');
      let dpr = Math.min(window.devicePixelRatio || 1, 2);
      let w, h, raf;
      const COUNT = 120;
      const particles = [];

      function resize() {
        w = canvas.width = window.innerWidth * dpr;
        h = canvas.height = window.innerHeight * dpr;
      }
      window.addEventListener('resize', resize);
      resize();

      function resetParticle(p) {
        p.x = Math.random() * w; p.y = Math.random() * h;
        p.vx = (Math.random() - 0.5) * 0.2 * dpr;
        p.vy = (Math.random() - 0.5) * 0.2 * dpr;
        p.r = Math.random() * 1.4 * dpr + 0.2;
        p.life = Math.random() * 400 + 200;
      }

      for (let i = 0; i < COUNT; i++) {
        const p = {}; resetParticle(p); particles.push(p);
      }

      function draw() {
        raf = requestAnimationFrame(draw);
        // smoky backdrop
        const grad = ctx.createLinearGradient(0, 0, 0, h);
        grad.addColorStop(0, 'rgba(0,10,20,0.6)');
        grad.addColorStop(1, 'rgba(0,0,0,0.9)');
        ctx.fillStyle = grad; ctx.fillRect(0, 0, w, h);

        // particles
        for (const p of particles) {
          p.x += p.vx; p.y += p.vy; p.life -= 1;
          if (p.x < 0) p.x = w; if (p.x > w) p.x = 0;
          if (p.y < 0) p.y = h; if (p.y > h) p.y = 0;
          if (p.life <= 0) resetParticle(p);
          ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
          ctx.fillStyle = `rgba(255,160,90,${0.12 + Math.random() * 0.2})`;
          ctx.fill();
        }

        // light sweep
        ctx.globalCompositeOperation = 'lighter';
        ctx.fillStyle = 'rgba(30,140,255,0.04)';
        ctx.fillRect(0, Math.sin(Date.now()/1000)*50 + h*0.4, w, 2*dpr);
        ctx.globalCompositeOperation = 'source-over';
      }
      draw();

      // Cleanup on page hide
      document.addEventListener('visibilitychange', () => {
        if (document.hidden) cancelAnimationFrame(raf); else draw();
      });
    })();
  </script>
</body>
</html>
